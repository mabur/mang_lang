num_fishes@{
    fishes = (3 4 3 1 2)
    simulate = in input out output@{
        output = ()
        while input
            fish = top@input
            input = rest@input
            output =
                if fish then
                    put!(dec!fish output)
                else
                    put_each!((6 8) output)
        end
    }
    days = 80
    while days
        fishes = simulate!fishes
        days = dec!days
    end
    num_fishes = count!fishes
}
